<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Steal a smile photobooth" />
  <title>Steal a smile ðŸ“¸</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;600&family=Great+Vibes&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="css/modern.css" />
  <script src="js/site-config.js"></script>
</head>
<body class="photobooth-page unlocked">
  <header class="site-header">
    <nav class="nav container">
      <a href="index.html#home" class="logo" aria-label="Go to Home" id="siteLogo">For Mahak</a>
      <ul class="nav-menu">
        <li><a href="index.html#valentine-week">Valentine Week</a></li>
        <li><a href="memories.html">Our Memories</a></li>
        <li><a href="photobooth.html" aria-current="page">Steal a smile ðŸ“¸</a></li>
      </ul>
    </nav>
  </header>

  <main class="photobooth-wrap">
    <section class="container">
      <h1 style="font-family:'Playfair Display',serif; margin-bottom:8px;">Steal a smile ðŸ“¸</h1>
      <p class="subtitle">Smile naturally or tap anywhere on the camera view â€” I'll capture that little magic.</p>

      <div class="camera-shell">
        <div class="camera-stage" id="cameraStage">
          <video id="cameraVideo" playsinline autoplay muted></video>
          <canvas id="captureCanvas"></canvas>
          <img id="previewImage" alt="Captured memory" style="display:none;" />
        </div>

        <div class="photobooth-controls">
          <select id="filterSelect" class="btn" aria-label="Select romantic filter">
            <option value="soft-glow">Soft Glow</option>
            <option value="vintage-warm">Vintage Warm</option>
            <option value="dreamy-blur">Dreamy Blur</option>
            <option value="film-grain">Film Grain</option>
            <option value="bw-love-letter">Black & White Love Letter</option>
            <option value="sunset-warmth">Sunset Warmth</option>
            <option value="pink-haze">Pink Haze</option>
          </select>
          <button id="manualCapture" class="btn btn-secondary">Manual capture</button>
          <button id="retakeBtn" class="btn">Retake</button>
        </div>

        <div class="photobooth-panel">
          <div id="reactionText" class="reaction-text">Waiting for your smile...</div>
          <p id="uploadStatus" class="upload-status">Camera starting...</p>
        </div>
      </div>
    </section>
  </main>

  <script>
    // Secret logo tap for easter egg
    const logos = document.querySelectorAll('.logo');
    let taps = 0;
    let tapTimer = null;
    logos.forEach((logo) => {
      logo.addEventListener('click', function (event) {
        taps += 1;
        clearTimeout(tapTimer);
        tapTimer = setTimeout(() => { taps = 0; }, 2400);
        if (taps >= 5) {
          taps = 0;
          window.location.href = 'secret.html';
        }
      });
    });
  </script>
  <script src="js/photobooth.js" defer></script>
</body>
</html>
